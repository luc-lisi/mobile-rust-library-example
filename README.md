# Mobile Rust Template

This is meant to be a template project which implements a shared Rust client between IOS and Android mobile apps. This template project uses Rust to make a request for a picture of a dog.

## Overview

This project is organized into 3 main sub directories:

1. `rust/`
2. `bindings/`
3. example_apps/

Let's quickly describe what each directory is doing in order of importance.

### Directories
#### Rust Library

`rust/`  contains a [workspace](https://doc.rust-lang.org/book/ch14-03-cargo-workspaces.html) which includes the library's main source code (`dogs/`) as well as a crate to handle the generation of the Rust bindings (`uniffi-bindgen/`).

This directory also contains the compiled Rust code in `rust/target/` which will only be seen after running the make command to build the bindings locally for the first time. `target/release` will contain both static and dynamic lib files once built.

#### Bindings

`bindings/` contains both `kotlin/` and `swift/` bindings. These are imported and used by our example apps.

#### Example Apps
`example_apps` contains both an `android` and `ios` application that renders a glorious dog picture on the screen of your phone using our Rust library!

### Building the Rust bindings

To help us build the Rust bindings for Swift and Kotlin, I've included a top-level Makefile which should handle both compiling, and linking the compiled code to uniffi to build the bindings for us.

To do this simply run:

```sh
make build-bindings
```

You should see two new directories appear being `rust/target/` and `rust/bindings/`. The `target` directory contains the `.dylib` file generated by `cargo build --release`.

This lib file is then used by uniffi's CLI to generate the `bindings/` directory which houses our Kotlin and Swift code.

### Building and running the example apps



## Step-by-step Walkthrough

### Initial Repo Setup

#### Rust

##### Dependencies

The core dependency used here is [unnifi](https://github.com/mozilla/uniffi-rs) which lets us generate bindings for non-Rust languages such as Kotlin and Swift.

#### Android

##### Dependencies

#### IOS

##### Dependencies
